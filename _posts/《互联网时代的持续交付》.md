

[承担集团数万应用、研发人员日常工作，阿里持续交付平台的设计、迭代之道](https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&mid=2650999697&idx=1&sn=3ab847d4acdc62531c59a8db5b9fac47&chksm=bdbef3c28ac97ad406228f258c312770655add0116cfb3bafe0f7181bf100bc93cc8deab6209&scene=0#rd)---阿里 陈鑫（神秀）

2017-12-08 注：本文整理自阿里巴巴高级技术专家陈鑫（神秀）在 ArchSummit 全球架构师峰会 2017 深圳站上的演讲，原题为《互联网时代的持续交付》。

阿里DevOps平台“云效”，“目前正在公测中”

软件配置管理(SCM)是指通过执行版本控制、变更控制的规程，以及使用合适的配置管理软件，来保证所有配置项的完整性和可跟踪性。配置管理是对工作成果的一种有效保护。 (Software configuration management (SCM, or just plain CM) is an organizational framework — that is, a discipline — for managing the evolution of computer systems throughout all stages of systems development.)

PE= project Engineering项目工程

理念：自动化、标准化、定制化、一站式

自动化是首要价值，效率提升的抓手。
标准化是工具平台的使命，包括研发标准和运维标准。前者的规范相对好做，后者困难，但随着容器化和统一调度的推进，有望统一。
定制化是更高要求。
一站式，工具百花齐放，不同的交互，不同的产品对接，增加系统复杂度，阻碍平台效率流转。基于价值

亚马逊的 Apollo 环境部署工具

常见的几种研发模式：主干开发、分支开发、gitflow 等。

标准化：
    应用创建、测试验收、标准环境、上线卡点、部署过程
定制化解决方案因素：
    团队成熟度：规模、全栈or独立测试运维、质量、特别的规范约定
    迭代速度
    BU 技术栈
    集成交付：是否有集成需求，电商、移动端、阿里云三种形态。

    由这四点因素我们推导出了几种定制化方向：
    研发模式：根据应用小规模团队采用分支研发，共建型大团队采用 gitflow，更加庞大的团队采用主干开发模式。因为微服务设计的流行，现在应用的团队规模越来越小，所以在阿里分支研发模式会更受欢迎。
    技术栈：java、C++、脚本类等等，我们会采用代码推荐和模板化的方式，帮助用户一键创建代码框架和编译环境。
    部署模板：常见的做法是软件包模板和 Dockerfile。在阿里，很多 BU 架构负责人和 PE 都会提供各种技术栈基础镜像，帮助普通研发者快速部署环境，类似这种的技术栈管控也同样依靠工具来承载。
    最后依靠多级 pipeline 来实现多种类型的交付过程，来满足集成交付需求。

    小规模 分支研发
    大团队 gitflow
    更大的团队 主干开发

再来看我们持续集成面临的挑战：
缺少测试覆盖的持续集成成为负担。当我们单测、API 测试做的不好的时候，通过流程强加的持续集成基本上是自欺欺人，要不就是不稳定，要不就是没效果。
测试团队转型，开发全栈导致的质量下降。有这么多需求，没时间写测试，或者保姆式服务享受惯了，自己没这个意识，等等等等。
测试环境互相依赖产生不稳定因素，在阿里集成环境问题应该是研发过程中的一大痛点。